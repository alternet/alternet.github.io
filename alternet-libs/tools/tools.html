<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2020-01-18 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200118" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Alternet Tools &#x2013; Alternet Tools</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
<link rel="stylesheet" href="../css/site.css" />
      </head>
    <body class="topBarEnabled">
      <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
            <div class="container"><div class="nav-collapse">
            <ul class="nav">
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Main <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../" title="Home">Home</a></li>
            <li><a href="https://github.com/alternet/alternet.ml" title="GitHub project">GitHub project</a></li>
            <li><a href="http://semantic-mismatch.blogspot.fr/" title="Blog">Blog</a></li>
            <li><a href="../release-notes.html" title="Release notes">Release notes</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Download <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../download.html" title="Download">Download</a></li>
            <li><a href="../license.html" title="License">License</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../parsing/index.html" title="Alternet Parsing">Alternet Parsing</a></li>
            <li><a href="../scanner/index.html" title="Alternet Scanner">Alternet Scanner</a></li>
            <li><a href="../tools/index.html" title="Alternet Tools">Alternet Tools</a></li>
            <li><a href="../tools-generator/index.html" title="Alternet Tools - Generator">Alternet Tools - Generator</a></li>
            <li><a href="../prop-bind-maven-plugin/index.html" title="Properties Binder Maven Plugin">Properties Binder Maven Plugin</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Maven reports <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="project-info.html" title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="project-summary.html" title="Summary">Summary</a></li>
                  <li><a href="license.html" title="Licenses">Licenses</a></li>
                  <li><a href="team-list.html" title="Team">Team</a></li>
                  <li><a href="source-repository.html" title="Source Code Management">Source Code Management</a></li>
                  <li><a href="issue-tracking.html" title="Issue Management">Issue Management</a></li>
                  <li><a href="dependencies.html" title="Dependencies">Dependencies</a></li>
                  <li><a href="dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a></li>
                  <li><a href="plugins.html" title="Plugins">Plugins</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
<a href="project-reports.html" title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                  <li><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
                  <li><a href="xref/index.html" title="Source Xref">Source Xref</a></li>
                  <li><a href="xref-test/index.html" title="Test Source Xref">Test Source Xref</a></li>
                  <li><a href="surefire-report.html" title="Surefire Report">Surefire Report</a></li>
                  <li><a href="cpd.html" title="CPD">CPD</a></li>
                  <li><a href="pmd.html" title="PMD">PMD</a></li>
                  <li><a href="checkstyle.html" title="Checkstyle">Checkstyle</a></li>
              </ul>
            </li>
        </ul>
      </li>
              </ul>
                    <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
    <li><a href="https://github.com/alternet/alternet.ml" title="GitHub project">GitHub project</a></li>
    <li><a href="../demo.html" title="Other Demos">Other Demos</a></li>
                </ul>
              </li>
            </ul>
            </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Alternet Tools</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-01-18<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0<span class="divider">|</span></li>
        <li class=""><a href="../.." title="Alternet">Alternet</a><span class="divider">»</span></li>
      <li class=""><a href="../index.html" title="Alternet Libs">Alternet Libs</a><span class="divider">»</span></li>
      <li class=""><a href="index.html" title="Alternet Tools">Alternet Tools</a><span class="divider">»</span></li>
    <li class="active ">Alternet Tools</li>
        </ul>
      </div>
        <div id="bodyColumn" >
<h1>Alternet Tools</h1>

<div class="nopub">
<a class="externalLink" href="http://alternet.github.io/alternet-libs/tools/tools.html">
Published version of this page available HERE</a></div>
<p><b>Alternet Tools</b> include discovery service tools, properties binder and classes generator, concurrent and locking tools, and more.</p>
<div class="section">
<h2><a name="Overview"></a>Overview</h2>
<p>Alternet Tools contains mainly :</p>

<ul>
  
<li><a href="properties.html">a properties binder and its classes generator</a></li>
  
<li><a href="discovery.html">a discovery service</a> that can be optionally used with injection (JSR330)</li>
  
<li><a href="../tools-generator/generator.html">a class generator</a></li>
  
<li>concurrent and locking tools</li>
  
<li>and additional utility classes</li>
</ul>
<p>This documentation covers the two latter topics.</p>

<div style="columns: 2">

<div>

<div class="section" style="margin: 0">
<h3 style="margin: 0"><a name="Maven_import"></a>Maven import</h3>

<div>
<pre class="prettyprint">
&lt;dependency&gt;
    &lt;groupId&gt;ml.alternet&lt;/groupId&gt;
    &lt;artifactId&gt;alternet-tools&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
</pre></div>
</div>

<div style="break-before: column">
</div>
<div class="section">
<h3><a name="JavaDoc_API_documentation"></a>JavaDoc API documentation</h3>

<ul>
<li><a href="apidocs/index.html">Alternet Tools</a></li></ul>

<p>Other Alternet APIs :</p>

<ul>
<li><a href="../apidocs/index.html">Alternet Libs</a></li></ul>
</div>
</div></div></div>
<div class="section">
<h2><a name="Some_useful_tools"></a>Some useful tools</h2>
<div class="section">
<h3><a name="CharRange"></a>CharRange</h3>
<p>Allow to define ranges of Unicode characters, merge them, exclude some, etc :</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    // ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/
    CharRange base64 = 
        CharRange.range('A', 'Z')
        .union(
            CharRange.range('a', 'z'),
            CharRange.range('0', '9'),
            CharRange.is('+'),
            CharRange.is('/')
        );
    CharRange others = CharRange.ANY.except(base64);
</pre></div></div>

<ul>
  
<li><a href="apidocs/ml/alternet/misc/CharRange.html"><tt>CharRange</tt></a></li>
</ul></div>
<div class="section">
<h3><a name="Thrower"></a>Thrower</h3>
<p>Allow to cast (<b>without wrapping</b>) any exception to a <tt>RuntimeException</tt>.</p>
<p>Helpful for lambdas. For example, a method that accept a supplier :</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    takeIt(() -&gt; {
        try {
            // do some I/O
        } catch (IOException e) {
            return Thrower.doThrow(e);
        }
    });
</pre></div></div>

<ul>
  
<li><a href="apidocs/ml/alternet/misc/Thrower.html"><tt>Thrower</tt></a></li>
</ul></div>
<div class="section">
<h3><a name="Type"></a>Type</h3>
<p>Allow to work on Java types even on those that doesn&#x2019;t exist :</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    Type listOfInts = Type.of(java.util.List.class).withTypeParameters(Type.of(int.class));
    // gives java.util.List&lt;java.lang.Integer&gt;

    Type type = Type.parseTypeDefinition(&quot;org.acme.Foo&lt;java.util.Map&lt;?, ? super java.lang.Integer&gt;,com.example.Bar[],java.lang.Appendable&gt;&quot;);
    // gives it...
</pre></div></div>

<ul>
  
<li><a href="apidocs/ml/alternet/misc/Type.html"><tt>Type</tt></a></li>
</ul></div>
<div class="section">
<h3><a name="Enum_extension"></a>Enum extension</h3>
<p>Java <tt>Enum</tt>s are not designed to be extended, which prevents using an illegal value (one of the child type enum) on an enum variable that would be of the parent enum type. However, it appears that sometimes we do want to extend an enum. <tt>EnumUtil::extend</tt> can copy existing enum values to a new enum :</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    public enum A {
        a, b, c;
    }

    public enum Z {
        x, y, z;
        static {
            EnumUtil.extend(A.class);
        }
        // Z : (a, b, c, x, y, z)
    }
</pre></div></div>
<div class="section">
<h4><a name="Exemple_of_2_enums_merged_in_a_3rd"></a>Exemple of 2 enums merged in a 3rd</h4>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    public static enum Weekday {
        MON, TUE, WED, THU, FRI;
    }

    public static enum WeekendDay {
        SAT, SUN;
    }

    public static enum DayOfWeek {
        MON; // enum expect at least one value

        static {
            EnumUtil.extend(Weekday.class);
            EnumUtil.extend(WeekendDay.class);
        }

        // DayOfWeek contains MON, TUE, WED, THU, FRI, SAT, SUN
    }
</pre></div></div>
<p>It may be helpful to inherit some behaviours of the other enums :</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    public static enum DayOfWeek {
        MON; // enum expect at least one value

        private boolean isWeekendDay = false;

        public boolean isWeekendDay() {
            return this.isWeekendDay;
        }

        private DayOfWeek() { }

        private DayOfWeek(WeekendDay weekendDay) {
            this.isWeekendDay = true;
        }

        static {
            EnumUtil.extend(Weekday.class);
            EnumUtil.extend(WeekendDay.class);
        }
    }
</pre></div></div>
<p>If a value of the new enum already exist in the base enum, the new behaviour override the existing one.</p>

<ul>
  
<li><a href="apidocs/ml/alternet/util/EnumUtil.html"><tt>EnumUtil</tt></a></li>
</ul></div></div>
<div class="section">
<h3><a name="JAXBStream"></a>JAXBStream</h3>
<p>Allow to stream repeatable elements from an XML document to objects, with eventually a cache strategy :</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">&lt;list xmlns=&quot;http://example.com/items&quot;&gt;
    &lt;item&gt;...&lt;/item&gt;
    &lt;item&gt;...&lt;/item&gt;
    &lt;item&gt;...&lt;/item&gt;
    ...
&lt;/list&gt;
</pre></div></div>
<p>For unmarshalling <tt>&lt;item&gt;</tt>s to a stream of <tt>example.com.Item</tt>, use :</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    new JAXBStream&lt;Item&gt;(&quot;http://example.com/items.xml&quot;, 
            new QName(&quot;http://example.com/items&quot;, &quot;item&quot;), 
            Item.class, 
            JAXBStream.CacheStrategy.noCache)
        .stream().forEach(item -&gt; {
            // TODO
        });
</pre></div></div>

<ul>
  
<li><a href="apidocs/ml/alternet/misc/JAXBStream.html"><tt>JAXBStream</tt></a></li>
</ul></div>
<div class="section">
<h3><a name="Concurrent_and_locking_tools"></a>Concurrent and locking tools</h3>
<p>The concurrent package allows to manage mutexes and locks, based on a string ID, safe for synchronization for a given user context.</p>
<p>As mentionned in section 3.10.5 of the Java Language Spec 2.0 :</p>

<blockquote>
<p>&#x201c;Literal strings within different classes in different packages likewise represent references to the same String object.&#x201d;</p>
</blockquote>
<p>The <a href="apidocs/ml/alternet/concurrent/MutexContext.html"><tt>MutexContext</tt></a> class allow to create a context in order to manage safe string-based mutexes, that is to say without the inherent conditions of the String class that can lead to a dead-lock.</p>
<p>This class is not magic:</p>

<ul>
  
<li>It&#x2019;s up to the user to create a context per domain to avoid ID collisions. The scope of such domain depends on the application.</li>
  
<li>It can&#x2019;t avoid dead-lock due to programming (it only avoids the inherent possibility of dead-locks due to string usage)</li>
</ul>
<p>A mutex or a lock doesn&#x2019;t have to be explicitly remove from its context, it will be automatically removed after all references to it are dropped.</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">   MutextContext mutexContext = new MutextContext();
   // ...
   
   String id = someObject.getCanonicalID();
   Mutex mutex = mutexContext.getMutex(id);
   synchronized(mutex) {
      // ...
   }
</pre></div></div>
<p>Instead of synchronizing on a <a href="apidocs/ml/alternet/concurrent/Mutex.html"><tt>Mutex</tt></a> it is also possible to get one of the available lock :</p>

<ul>
  
<li><a href="apidocs/ml/alternet/concurrent/MutexContext.html#getLock-java.lang.String-"><tt>Lock</tt></a></li>
  
<li><a href="apidocs/ml/alternet/concurrent/MutexContext.html#getReadWriteLock-java.lang.String-"><tt>ReadWriteLock</tt></a></li>
  
<li><a href="apidocs/ml/alternet/concurrent/MutexContext.html#getStampedLock-java.lang.String-"><tt>StampedLock</tt></a></li>
</ul></div></div>
<div class="section">
<h2><a name="Other_tools"></a>Other tools</h2>

<ul>
  
<li><a href="properties.html">a properties binder and its classes generator</a></li>
  
<li><a href="discovery.html">a discovery service</a> that can be optionally used with injection (JSR330)</li>
  
<li><a href="../tools-generator/generator.html">a class generator</a></li>
</ul></div>
        </div>
    </div>
    <hr/>
    <footer>
      <div class="container">
        <div class="row">
            <p>Copyright &copy;2020
<a href="http://alternet.github.io">Alternet</a>.
All rights reserved.</p>
        </div>
        <p id="poweredBy" class="pull-right">  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
  </p>
        </div>
    </footer>
    </body>
</html>
