<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_91) on Thu Aug 31 11:05:25 CEST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Injection (Alternet Libs 1.0 API)</title>
<meta name="date" content="2017-08-31">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Injection (Alternet Libs 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Injection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ml/alternet/discover/DiscoveryService.html" title="class in ml.alternet.discover"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../ml/alternet/discover/Injection.LookupKey.html" title="annotation in ml.alternet.discover"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ml/alternet/discover/Injection.html" target="_top">Frames</a></li>
<li><a href="Injection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ml.alternet.discover</div>
<h2 title="Interface Injection" class="title">Interface Injection</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Injection</span></pre>
<div class="block">This interface contains qualifiers used in conjunction with a CDI container
 (JSR 330).

 You are not compelled to use the discovery service with a CDI container, but
 if you want to inject classes to lookup (specifically with a variant), the
 annotations defined here may help.

 Even if you used a CDI container, you are not compelled to inject every
 classes to lookup, just the ones you want to or have to inject.

 <ul>
 <li><a href="../../../ml/alternet/discover/Injection.LookupKey.html" title="annotation in ml.alternet.discover"><code>Injection.LookupKey</code></a> generates an entry in <tt>META-INF/xservices/</tt></li>
 <li><a href="../../../ml/alternet/discover/Injection.LookupKey.html" title="annotation in ml.alternet.discover"><code>Injection.LookupKey</code></a> qualifies an instance to inject</li>
 <li><a href="../../../ml/alternet/discover/Injection.Producer.html" title="annotation in ml.alternet.discover"><code>Injection.Producer</code></a> generates a class producer for injections</li>
 </ul>

 <h3>Usage</h3>

 <h4>Start situation (without injection)</h4>

 For example, consider a constructor :

 <pre>
 public A(B b) {
     //
 }
 </pre>

 where B is an interface :

 <pre>
 public interface B {
     //
 }
 </pre>

 which has several implementations :

 <pre>
 &#064;LookupKey(forClass = B.class, variant = &quot;variant1&quot;)
 public class B1 implements B {
     //
 }
 </pre>

 and :

 <pre>
 &#064;LookupKey(forClass = B.class, variant = &quot;variant2&quot;)
 public class B2 implements B {
     //
 }
 </pre>

 You want to inject the right class ? See below...

 <h4>Target situation (with injection)</h4>

 First, in the constructor (or directly in the field, up to you) one have to
 indicates that an instance have to be injected :

 <pre>
 &#064;javax.inject.Inject
 public A(@Injection.LookupKey(&quot;variant1&quot;) B b) {
     //
 }
 </pre>

 Then you have to set on the interface which variant you want to produce :

 <pre>
 &#064;Injection.Producer(variant = &quot;variant1&quot;)
 public interface B {
     //
 }
 </pre>

 A producer class will be generated at compile time, that will perform the
 lookup with the specified variant. At runtime, the container will inject the
 instance supplied by the producer that matches both the expected target class
 and the variant, if any.

 <h3>Other usage</h3>

 Sometimes, the developer doesn't own the type to inject neither their
 implementations ; it is still possible to set the annotations on some code
 owned by the developer, for example one of its package and specify both the
 implementation and the target class.

 If a specific producer have to match a general-purpose variant, and have to
 lookup for a different variant, it is also possible to specify a different
 variant target.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Philippe Poulard</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ml/alternet/discover/Injection.LookupKey.html" title="annotation in ml.alternet.discover">Injection.LookupKey</a></span></code>
<div class="block">Use this qualifier to inject an instance to lookup with the discovery
 service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ml/alternet/discover/Injection.Producer.html" title="annotation in ml.alternet.discover">Injection.Producer</a></span></code>
<div class="block">Generates a producer for the class or interface that will be used with
 the lookup key qualifier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ml/alternet/discover/Injection.Producers.html" title="annotation in ml.alternet.discover">Injection.Producers</a></span></code>
<div class="block">Allow to repeat a producer annotation.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Injection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ml/alternet/discover/DiscoveryService.html" title="class in ml.alternet.discover"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../ml/alternet/discover/Injection.LookupKey.html" title="annotation in ml.alternet.discover"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ml/alternet/discover/Injection.html" target="_top">Frames</a></li>
<li><a href="Injection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://alternet.ml">Alternet</a>. All rights reserved.</small></p>
</body>
</html>
